import{S as Yt,i as Xt,s as en,l as p,r as A,a as M,J as G,m as g,n as l,u as q,h as d,c as O,K as Z,p as a,L as pe,b as ve,M as o,T as _e,g as tn,t as De,d as nn,f as He,G as sn,N as qe,o as rn,E as k,U as ft,w as on,x as cn,y as an,V as hn,v as Ct,B as dn}from"./index-36b076cc.js";import{e as At,s as pt,f as gt,a as un,i as ln,B as fn,b as pn,p as gn,g as qt,c as _n,r as Pt,d as _t,h as mn,S as vn,j as wn,m as mt,k as he,E as Ut,l as yn,W as Rn,n as vt,t as je,o as In,q as En,u as wt,v as Pe,J as bn,w as yt,x as Sn}from"./Jazzicon-71a42527.js";import{w as oe,s as Rt}from"./formatter-c69670f2.js";const kn="PARSE_ERROR",Tn="INVALID_REQUEST",Mn="METHOD_NOT_FOUND",On="INVALID_PARAMS",Nt="INTERNAL_ERROR",Ve="SERVER_ERROR",Cn=[-32700,-32600,-32601,-32602,-32603],ae={[kn]:{code:-32700,message:"Parse error"},[Tn]:{code:-32600,message:"Invalid Request"},[Mn]:{code:-32601,message:"Method not found"},[On]:{code:-32602,message:"Invalid params"},[Nt]:{code:-32603,message:"Internal error"},[Ve]:{code:-32e3,message:"Server error"}},Lt=Ve;function An(n){return Cn.includes(n)}function It(n){return Object.keys(ae).includes(n)?ae[n]:ae[Lt]}function qn(n){const e=Object.values(ae).find(t=>t.code===n);return e||ae[Lt]}function Pn(n,e,t){return n.message.includes("getaddrinfo ENOTFOUND")||n.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):n}function Dt(){const n=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return n+e}function Un(n,e,t){return{id:t||Dt(),jsonrpc:"2.0",method:n,params:e}}function Be(n,e,t){return{id:n,jsonrpc:"2.0",error:Nn(e,t)}}function Nn(n,e){return typeof n>"u"?It(Nt):(typeof n=="string"&&(n=Object.assign(Object.assign({},It(Ve)),{message:n})),typeof e<"u"&&(n.data=e),An(n.code)&&(n=qn(n.code)),n)}class Ht{}class Ln extends Ht{constructor(e){super()}}class Dn extends Ht{constructor(){super()}}class Hn extends Dn{constructor(e){super()}}const jn="^https?:";function Bn(n){const e=n.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function xn(n,e){const t=Bn(n);return typeof t>"u"?!1:new RegExp(e).test(t)}function Et(n){return xn(n,jn)}function Jn(n){return typeof n=="object"&&"id"in n&&"jsonrpc"in n&&n.jsonrpc==="2.0"}function Vn(n){return Jn(n)&&($n(n)||jt(n))}function $n(n){return"result"in n}function jt(n){return"error"in n}class bt extends Hn{constructor(e){super(e),this.events=new At.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Un(e.method,e.params||[]),t)}async requestStrict(e,t){return new Promise(async(s,r)=>{if(!this.connection.connected)try{await this.open()}catch(i){r(i)}this.events.on(`${e.id}`,i=>{jt(i)?r(i.error):s(i.result)});try{await this.connection.send(e,t)}catch(i){r(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Vn(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}const Fn={Accept:"application/json","Content-Type":"application/json"},Wn="POST",St={headers:Fn,method:Wn};class Gn{constructor(e){if(this.url=e,this.events=new At.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!Et(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,t){this.isAvailable||await this.register();try{const s=pt(e),i=await(await gt(this.url,Object.assign(Object.assign({},St),{body:s}))).json();this.onPayload({data:i})}catch(s){this.onError(e.id,s)}}async register(e=this.url){if(!Et(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering)return new Promise((t,s)=>{this.events.once("register_error",r=>{s(r)}),this.events.once("open",()=>{if(typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));t()})});this.url=e,this.registering=!0;try{const t=pt({id:1,jsonrpc:"2.0",method:"test",params:[]});await gt(e,Object.assign(Object.assign({},St),{body:t})),this.onOpen()}catch(t){const s=this.parseError(t);throw this.events.emit("register_error",s),this.onClose(),s}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?un(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const s=this.parseError(t),r=s.message||s.toString(),i=Be(e,r);this.events.emit("payload",i)}parseError(e,t=this.url){return Pn(e,t,"HTTP")}}const Zn=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],$e=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Kn={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Qn=ln.strict,zn=function(e){if(Qn(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}else return Buffer.from(e)};const Bt="hex",xt="utf8",we="0";function z(n){return new Uint8Array(n)}function Jt(n,e=!1){const t=n.toString(Bt);return e?Y(t):t}function Yn(n){return n.toString(xt)}function ye(n){return zn(n)}function K(n,e=!1){return Jt(ye(n),e)}function Xn(n){return Yn(ye(n))}function es(n){return Buffer.from(H(n),Bt)}function Q(n){return z(es(n))}function Fe(n){return Buffer.from(n,xt)}function ts(n){return z(Fe(n))}function ns(n,e=!1){return Jt(Fe(n),e)}function ss(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||e&&n.length!==2+2*e)}function Vt(...n){let e=[];return n.forEach(t=>e=e.concat(Array.from(t))),new Uint8Array([...e])}function rs(n,e=8){const t=n%e;return t?(n-t)/e*e+e:n}function is(n,e=8,t=we){return os(n,rs(n.length,e),t)}function os(n,e,t=we){return as(n,e,!0,t)}function H(n){return n.replace(/^0x/,"")}function Y(n){return n.startsWith("0x")?n:`0x${n}`}function $t(n){return n=H(n),n=is(n,2),n&&(n=Y(n)),n}function cs(n){const e=n.startsWith("0x");return n=H(n),n=n.startsWith(we)?n.substring(1):n,e?Y(n):n}function as(n,e,t,s=we){const r=e-n.length;let i=n;if(r>0){const c=s.repeat(r);i=t?c+n:n+c}return i}function xe(n){return ye(new Uint8Array(n))}function hs(n,e){return K(new Uint8Array(n),!e)}function ds(n){return z(n).buffer}function us(n){return Fe(n)}function ls(n,e){return ns(n,!e)}function fs(n){return Q(n).buffer}function Ft(n,e){const t=H($t(new fn(n).toString(16)));return e?t:Y(t)}function ge(n){return $t(n)}function ps(n){return cs(Y(n))}const gs=Dt;function Ue(){return((e,t)=>{for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t})()}function _s(n,e){let t;const s=Kn[n];return s&&(t=`https://${s}.infura.io/v3/${e}`),t}function ms(n,e){let t;const s=_s(n,e.infuraId);return e.custom&&e.custom[n]?t=e.custom[n]:s&&(t=s),t}function vs(n){return n===""||typeof n=="string"&&n.trim()===""}function ws(n){return!(n&&n.length)}function Wt(n,e){return ss(n,e)}function ys(n){return typeof n.method<"u"}function ce(n){return typeof n.result<"u"}function me(n){return typeof n.error<"u"}function kt(n){return typeof n.event<"u"}function Rs(n){return Zn.includes(n)||n.startsWith("wc_")}function Is(n){return n.method.startsWith("wc_")?!0:!$e.includes(n.method)}function Es(n){n=H(n.toLowerCase());const e=H(pn.exports.keccak_256(us(n)));let t="";for(let s=0;s<n.length;s++)parseInt(e[s],16)>7?t+=n[s].toUpperCase():t+=n[s];return Y(t)}const bs=n=>n?n.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x)?[0-9a-f]{40}$/.test(n)||/^(0x)?[0-9A-F]{40}$/.test(n)?!0:n===Es(n):!1:!1;function Tt(n){return!ws(n)&&!Wt(n[0])&&(n[0]=ls(n[0])),n}function Ne(n){if(typeof n.type<"u"&&n.type!=="0")return n;if(typeof n.from>"u"||!bs(n.from))throw new Error("Transaction object must include a valid 'from' value.");function e(r){let i=r;return(typeof r=="number"||typeof r=="string"&&!vs(r))&&(Wt(r)?typeof r=="string"&&(i=ge(r)):i=Ft(r)),typeof i=="string"&&(i=ps(i)),i}const t={from:ge(n.from),to:typeof n.to>"u"?void 0:ge(n.to),gasPrice:typeof n.gasPrice>"u"?"":e(n.gasPrice),gas:typeof n.gas>"u"?typeof n.gasLimit>"u"?"":e(n.gasLimit):e(n.gas),value:typeof n.value>"u"?"":e(n.value),nonce:typeof n.nonce>"u"?"":e(n.nonce),data:typeof n.data>"u"?"":ge(n.data)||"0x"},s=["gasPrice","gas","value","nonce"];return Object.keys(t).forEach(r=>{(typeof t[r]>"u"||typeof t[r]=="string"&&!t[r].trim().length)&&s.includes(r)&&delete t[r]}),t}function Ss(n){const e=n.message||"Failed or Rejected Request";let t=-32e3;if(n&&!n.code)switch(e){case"Parse error":t=-32700;break;case"Invalid request":t=-32600;break;case"Method not found":t=-32601;break;case"Invalid params":t=-32602;break;case"Internal error":t=-32603;break;default:t=-32e3;break}return{code:t,message:e}}function ks(n){return typeof n.bridge<"u"}function Ts(n){const e=n.indexOf(":"),t=n.indexOf("?")!==-1?n.indexOf("?"):void 0,s=n.substring(0,e),r=n.substring(e+1,t);function i(_){const h="@",f=_.split(h);return{handshakeTopic:f[0],version:parseInt(f[1],10)}}const c=i(r),m=typeof t<"u"?n.substr(t):"";function u(_){const h=gn(_);return{key:h.key||"",bridge:h.bridge||""}}const w=u(m);return Object.assign(Object.assign({protocol:s},c),w)}const Le="Session currently connected",x="Session currently disconnected",Ms="Session Rejected",Os="Missing JSON RPC response",Cs='JSON-RPC success response must include "result" field',As='JSON-RPC error response must include "error" field',qs='JSON RPC request must have valid "method" value',Ps='JSON RPC request must have valid "id" value',Us="Missing one of the required parameters: bridge / uri / session",Mt="JSON RPC response format is invalid",Ns="URI format is invalid",Ls="QRCode Modal not provided",Ot="User close QRCode Modal";class Ds{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(t=>t.event!==e)}trigger(e){let t=[],s;ys(e)?s=e.method:ce(e)||me(e)?s=`response:${e.id}`:kt(e)?s=e.event:s="",s&&(t=this._eventEmitters.filter(r=>r.event===s)),(!t||!t.length)&&!Rs(s)&&!kt(s)&&(t=this._eventEmitters.filter(r=>r.event==="call_request")),t.forEach(r=>{if(me(e)){const i=new Error(e.error.message);r.callback(i,null)}else r.callback(null,e)})}}class Hs{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const t=qt(this.storageId);return t&&ks(t)&&(e=t),e}setSession(e){return _n(this.storageId,e),e}removeSession(){Pt(this.storageId)}}class js{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Ds,this._clientMeta=_t()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new Hs(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...$e,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(Us);e.connectorOpts.bridge&&(this.bridge=mn(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const t=e.connectorOpts.session||this._getStorageSession();t&&(this.session=t),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new vn({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){!e||(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const t=fs(e);this._key=t}get key(){return this._key?hs(this._key,!0):""}set clientId(e){!e||(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=Ue()),this._clientId}set peerId(e){!e||(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=_t()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){!e||(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){!e||(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:t,bridge:s,key:r}=this._parseUri(e);this.handshakeTopic=t,this.bridge=s,this.key=r}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){!e||(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,t){const s={event:e,callback:t};this._eventManager.subscribe(s)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const t=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=t.id,this.handshakeTopic=Ue(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Ot)});const s=()=>{this.killSession()};try{const r=await this._sendCallRequest(t);return r&&s(),r}catch(r){throw s(),r}}async connect(e){if(!this._qrcodeModal)throw new Error(Ls);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(t,s)=>{this.on("modal_closed",()=>s(new Error(Ot))),this.on("connect",(r,i)=>{if(r)return s(r);t(i.params[0])})}))}async createSession(e){if(this._connected)throw new Error(Le);if(this.pending)return;this._key=await this._generateKey();const t=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=t.id,this.handshakeTopic=Ue(),this._sendSessionRequest(t,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(Le);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},s={id:this.handshakeId,jsonrpc:"2.0",result:t};this._sendResponse(s),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(Le);const t=e&&e.message?e.message:Ms,s=this._formatResponse({id:this.handshakeId,error:{message:t}});this._sendResponse(s),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(x);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},s=this._formatRequest({method:"wc_sessionUpdate",params:[t]});this._sendSessionRequest(s,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const t=e?e.message:"Session Disconnected",s={approved:!1,chainId:null,networkId:null,accounts:null},r=this._formatRequest({method:"wc_sessionUpdate",params:[s]});await this._sendRequest(r),this._handleSessionDisconnect(t)}async sendTransaction(e){if(!this._connected)throw new Error(x);const t=Ne(e),s=this._formatRequest({method:"eth_sendTransaction",params:[t]});return await this._sendCallRequest(s)}async signTransaction(e){if(!this._connected)throw new Error(x);const t=Ne(e),s=this._formatRequest({method:"eth_signTransaction",params:[t]});return await this._sendCallRequest(s)}async signMessage(e){if(!this._connected)throw new Error(x);const t=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(t)}async signPersonalMessage(e){if(!this._connected)throw new Error(x);e=Tt(e);const t=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(t)}async signTypedData(e){if(!this._connected)throw new Error(x);const t=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(t)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const t=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(t)}unsafeSend(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),new Promise((s,r)=>{this._subscribeToResponse(e.id,(i,c)=>{if(i){r(i);return}if(!c)throw new Error(Os);s(c)})})}async sendCustomRequest(e,t){if(!this._connected)throw new Error(x);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return Ft(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=Ne(e.params[0]));break;case"personal_sign":e.params&&(e.params=Tt(e.params));break}const s=this._formatRequest(e);return await this._sendCallRequest(s,t)}approveRequest(e){if(ce(e)){const t=this._formatResponse(e);this._sendResponse(t)}else throw new Error(Cs)}rejectRequest(e){if(me(e)){const t=this._formatResponse(e);this._sendResponse(t)}else throw new Error(As)}transportClose(){this._transport.close()}async _sendRequest(e,t){const s=this._formatRequest(e),r=await this._encrypt(s),i=typeof(t==null?void 0:t.topic)<"u"?t.topic:this.peerId,c=JSON.stringify(r),m=typeof(t==null?void 0:t.forcePushNotification)<"u"?!t.forcePushNotification:Is(s);this._transport.send(c,i,m)}async _sendResponse(e){const t=await this._encrypt(e),s=this.peerId,r=JSON.stringify(t),i=!0;this._transport.send(r,s,i)}async _sendSessionRequest(e,t,s){this._sendRequest(e,s),this._subscribeToSessionResponse(e.id,t)}_sendCallRequest(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(qs);return{id:typeof e.id>"u"?gs():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(Ps);const t={id:e.id,jsonrpc:"2.0"};if(me(e)){const s=Ss(e.error);return Object.assign(Object.assign(Object.assign({},t),e),{error:s})}else if(ce(e))return Object.assign(Object.assign({},t),e);throw new Error(Mt)}_handleSessionDisconnect(e){const t=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Pt(mt)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,t){t?t.approved?(this._connected?(t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),t.peerId&&!this.peerId&&(this.peerId=t.peerId),t.peerMeta&&!this.peerMeta&&(this.peerMeta=t.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let s;try{s=JSON.parse(e.payload)}catch{return}const r=await this._decrypt(s);r&&this._eventManager.trigger(r)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,t){this.on(`response:${e}`,t)}_subscribeToSessionResponse(e,t){this._subscribeToResponse(e,(s,r)=>{if(s){this._handleSessionResponse(s.message);return}ce(r)?this._handleSessionResponse(t,r.result):r.error&&r.error.message?this._handleSessionResponse(r.error.message):this._handleSessionResponse(t)})}_subscribeToCallResponse(e){return new Promise((t,s)=>{this._subscribeToResponse(e,(r,i)=>{if(r){s(r);return}ce(i)?t(i.result):i.error&&i.error.message?s(new Error(i.error.message)):s(new Error(Mt))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,t)=>{const{request:s}=t.params[0];if(wn()&&this._signingMethods.includes(s.method)){const r=qt(mt);r&&(window.location.href=r.href)}}),this.on("wc_sessionRequest",(e,t)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=t.id,this.peerId=t.params[0].peerId,this.peerMeta=t.params[0].peerMeta;const s=Object.assign(Object.assign({},t),{method:"session_request"});this._eventManager.trigger(s)}),this.on("wc_sessionUpdate",(e,t)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",t.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,t=this.handshakeTopic,s=this.version,r=encodeURIComponent(this.bridge),i=this.key;return`${e}:${t}@${s}?bridge=${r}&key=${i}`}_parseUri(e){const t=Ts(e);if(t.protocol===this.protocol){if(!t.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const s=t.handshakeTopic;if(!t.bridge)throw Error("Invalid or missing bridge url parameter value");const r=decodeURIComponent(t.bridge);if(!t.key)throw Error("Invalid or missing key parameter value");const i=t.key;return{handshakeTopic:s,bridge:r,key:i}}else throw new Error(Ns)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const t=this._key;return this._cryptoLib&&t?await this._cryptoLib.encrypt(e,t):null}async _decrypt(e){const t=this._key;return this._cryptoLib&&t?await this._cryptoLib.decrypt(e,t):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const t={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(s,r)=>{if(s)throw s;if(e.peerMeta){const i=r.params[0].peerMeta.name;t.peerName=i}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Bs(n){return he.getBrowerCrypto().getRandomValues(new Uint8Array(n))}const Gt=256,Zt=Gt,xs=Gt,j="AES-CBC",Js=`SHA-${Zt}`,Je="HMAC",Vs="encrypt",$s="decrypt",Fs="sign",Ws="verify";function Gs(n){return n===j?{length:Zt,name:j}:{hash:{name:Js},name:Je}}function Zs(n){return n===j?[Vs,$s]:[Fs,Ws]}async function We(n,e=j){return he.getSubtleCrypto().importKey("raw",n,Gs(e),!0,Zs(e))}async function Ks(n,e,t){const s=he.getSubtleCrypto(),r=await We(e,j),i=await s.encrypt({iv:n,name:j},r,t);return new Uint8Array(i)}async function Qs(n,e,t){const s=he.getSubtleCrypto(),r=await We(e,j),i=await s.decrypt({iv:n,name:j},r,t);return new Uint8Array(i)}async function zs(n,e){const t=he.getSubtleCrypto(),s=await We(n,Je),r=await t.sign({length:xs,name:Je},s,e);return new Uint8Array(r)}function Ys(n,e,t){return Ks(n,e,t)}function Xs(n,e,t){return Qs(n,e,t)}async function Kt(n,e){return await zs(n,e)}async function Qt(n){const e=(n||256)/8,t=Bs(e);return ds(ye(t))}async function zt(n,e){const t=Q(n.data),s=Q(n.iv),r=Q(n.hmac),i=K(r,!1),c=Vt(t,s),m=await Kt(e,c),u=K(m,!1);return H(i)===H(u)}async function er(n,e,t){const s=z(xe(e)),r=t||await Qt(128),i=z(xe(r)),c=K(i,!1),m=JSON.stringify(n),u=ts(m),w=await Ys(i,s,u),S=K(w,!1),_=Vt(w,i),h=await Kt(s,_),f=K(h,!1);return{data:S,hmac:f,iv:c}}async function tr(n,e){const t=z(xe(e));if(!t)throw new Error("Missing key: required for decryption");if(!await zt(n,t))return null;const r=Q(n.data),i=Q(n.iv),c=await Xs(i,t,r),m=Xn(c);let u;try{u=JSON.parse(m)}catch{return null}return u}const nr=Object.freeze(Object.defineProperty({__proto__:null,generateKey:Qt,verifyHmac:zt,encrypt:er,decrypt:tr},Symbol.toStringTag,{value:"Module"}));class sr extends js{constructor(e,t){super({cryptoLib:nr,connectorOpts:e,pushServerOpts:t})}}class rr extends Ln{constructor(e){super(),this.events=new Ut,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=e,this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.wc=this.register(e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e){if(this.connected){this.onOpen();return}return new Promise((t,s)=>{this.on("error",r=>{s(r)}),this.on("open",()=>{t()}),this.create(e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(e).then(t=>this.events.emit("payload",t)).catch(t=>this.events.emit("payload",Be(e.id,t.message)))}register(e){if(this.wc)return this.wc;this.opts=e||this.opts,this.bridge=e!=null&&e.connector?e.connector.bridge:(e==null?void 0:e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(e==null?void 0:e.qrcode)>"u"||e.qrcode!==!1,this.chainId=typeof(e==null?void 0:e.chainId)<"u"?e.chainId:this.chainId,this.qrcodeModalOptions=e==null?void 0:e.qrcodeModalOptions;const t={bridge:this.bridge,qrcodeModal:this.qrcode?yn:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta};if(this.wc=typeof(e==null?void 0:e.connector)<"u"?e.connector:new sr(t),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(e){this.pending=!1,e&&(this.wc=e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(e,t="Failed or Rejected Request",s=-32e3){const r={id:e.id,jsonrpc:e.jsonrpc,error:{code:s,message:t}};return this.events.emit("payload",r),r}create(e){this.wc=this.register(this.opts),this.chainId=e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(t=>this.events.emit("error",t)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",e=>{var t,s;if(e){this.events.emit("error",e);return}this.accounts=((t=this.wc)===null||t===void 0?void 0:t.accounts)||[],this.chainId=((s=this.wc)===null||s===void 0?void 0:s.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",e=>{if(e){this.events.emit("error",e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(e,t)=>{const{accounts:s,chainId:r}=t.params[0];(!this.accounts||s&&this.accounts!==s)&&(this.accounts=s,this.events.emit("accountsChanged",s)),(!this.chainId||r&&this.chainId!==r)&&(this.chainId=r,this.events.emit("chainChanged",r))})}async sendPayload(e){this.wc=this.register(this.opts);try{const t=await this.wc.unsafeSend(e);return this.sanitizeResponse(t)}catch(t){return this.onError(e,t.message)}}sanitizeResponse(e){return typeof e.error<"u"&&typeof e.error.code>"u"?Be(e.id,e.error.message):e}}class ir{constructor(e){this.events=new Ut,this.rpc={infuraId:e==null?void 0:e.infuraId,custom:e==null?void 0:e.rpc},this.signer=new bt(new rr(e));const t=this.signer.connection.chainId||(e==null?void 0:e.chainId)||1;this.http=this.setHttpProvider(t),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var e;return((e=this.http)===null||e===void 0?void 0:e.connection).url||""}async request(e){switch(e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if($e.includes(e.method))return this.signer.request(e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${e.method}) without provided rpc url`);return this.http.request(e)}sendAsync(e,t){this.request(e).then(s=>t(null,s)).catch(s=>t(s,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",e=>{this.events.emit("accountsChanged",e)}),this.signer.connection.on("chainChanged",e=>{this.http=this.setHttpProvider(e),this.events.emit("chainChanged",e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(e){const t=ms(e,this.rpc);return typeof t>"u"?void 0:new bt(new Gn(t))}}const or=()=>new Rn({cacheProvider:!0,providerOptions:{walletconnect:{package:ir,options:{infuraId:{BASE_URL:"/SvelteApp/",MODE:"production",DEV:!1,PROD:!0}.VITE_INFURA_ID}},"custom-localhost":{display:{logo:"https://avatars.githubusercontent.com/u/56928858?s=200&v=4",name:"BurnerWallet",description:"\u{1F525} Connect to localhost with a burner wallet \u{1F525}"},package:vt,connector:async(n,e)=>{const t=e.rpc[e.chainId],s=new vt(t,e.chainId),r=await s.getNetwork();return console.log("options:",e),console.log("network:",r),s.anyNetwork||console.warn(`Could not connect to local chain: ${e.chainId} url:${t}`),s},options:{chainId:31337,rpc:{[31337]:"http://localhost:8545"}}}}});function cr(n){let e,t,s,r;return{c(){e=p("button"),t=A("Connect"),this.h()},l(i){e=g(i,"BUTTON",{class:!0});var c=l(e);t=q(c,"Connect"),c.forEach(d),this.h()},h(){a(e,"class","btn btn-primary btn-sm btn-outline")},m(i,c){ve(i,e,c),o(e,t),s||(r=_e(e,"click",n[4]),s=!0)},p:k,i:k,o:k,d(i){i&&d(e),s=!1,r()}}}function ar(n){let e,t,s,r,i,c=Rt(n[2])+"",m,u,w,S,_,h,f={ctx:n,current:null,token:null,hasCatch:!1,pending:ur,then:dr,catch:hr,value:9};return ft(t=n[1],f),w=new bn({props:{size:"18"}}),{c(){e=p("div"),f.block.c(),s=M(),r=p("button"),i=p("div"),m=A(c),u=M(),on(w.$$.fragment),this.h()},l(v){e=g(v,"DIV",{class:!0});var y=l(e);f.block.l(y),s=O(y),r=g(y,"BUTTON",{class:!0});var I=l(r);i=g(I,"DIV",{});var T=l(i);m=q(T,c),T.forEach(d),u=O(I),cn(w.$$.fragment,I),I.forEach(d),y.forEach(d),this.h()},h(){a(r,"class","btn btn-ghost btn-sm normal-case bg-base-100 rounded-xl gap-2"),a(e,"class","bg-base-200 p-0.5 rounded-xl")},m(v,y){ve(v,e,y),f.block.m(e,f.anchor=null),f.mount=()=>e,f.anchor=s,o(e,s),o(e,r),o(r,i),o(i,m),o(r,u),an(w,r,null),S=!0,_||(h=_e(r,"click",n[5]),_=!0)},p(v,y){n=v,f.ctx=n,y&2&&t!==(t=n[1])&&ft(t,f)||hn(f,n,y),(!S||y&4)&&c!==(c=Rt(n[2])+"")&&Ct(m,c)},i(v){S||(He(w.$$.fragment,v),S=!0)},o(v){De(w.$$.fragment,v),S=!1},d(v){v&&d(e),f.block.d(),f.token=null,f=null,dn(w),_=!1,h()}}}function hr(n){return{c:k,l:k,m:k,p:k,d:k}}function dr(n){let e,t=Number((+yt.formatEther(n[9])).toFixed(4))+"",s,r;return{c(){e=p("div"),s=A(t),r=A(" ETH"),this.h()},l(i){e=g(i,"DIV",{class:!0});var c=l(e);s=q(c,t),r=q(c," ETH"),c.forEach(d),this.h()},h(){a(e,"class","mx-2")},m(i,c){ve(i,e,c),o(e,s),o(e,r)},p(i,c){c&2&&t!==(t=Number((+yt.formatEther(i[9])).toFixed(4))+"")&&Ct(s,t)},d(i){i&&d(e)}}}function ur(n){return{c:k,l:k,m:k,p:k,d:k}}function lr(n){let e,t,s,r,i,c,m,u,w,S,_,h,f,v,y,I,T,Re,E,X,J,Ie,Ee,ee,V,be,Se,te,$,ke,Te,ne,F,Me,Oe,B,P,U,se,Ce,N,L,re,de,ie,Ae,Ge;const Ze=[ar,cr],D=[];function Ke(R,b){return R[2]?0:1}return _=Ke(n),h=D[_]=Ze[_](n),{c(){e=p("header"),t=p("div"),s=p("button"),r=p("a"),i=p("div"),c=A("\u6851"),m=M(),u=p("div"),w=A("Kuwa Coin"),S=M(),h.c(),f=M(),v=p("div"),y=p("div"),I=G("svg"),T=G("path"),Re=M(),E=p("ul"),X=p("li"),J=p("a"),Ie=A("Data"),Ee=M(),ee=p("li"),V=p("a"),be=A("Debug"),Se=M(),te=p("li"),$=p("a"),ke=A("Buy & Sell"),Te=M(),ne=p("li"),F=p("a"),Me=A("Developer"),Oe=M(),B=p("li"),P=p("div"),U=G("svg"),se=G("path"),Ce=M(),N=p("div"),L=G("svg"),re=G("path"),this.h()},l(R){e=g(R,"HEADER",{class:!0});var b=l(e);t=g(b,"DIV",{class:!0});var W=l(t);s=g(W,"BUTTON",{class:!0});var Qe=l(s);r=g(Qe,"A",{href:!0});var ue=l(r);i=g(ue,"DIV",{class:!0});var ze=l(i);c=q(ze,"\u6851"),ze.forEach(d),m=O(ue),u=g(ue,"DIV",{class:!0});var Ye=l(u);w=q(Ye,"Kuwa Coin"),Ye.forEach(d),ue.forEach(d),Qe.forEach(d),W.forEach(d),S=O(b),h.l(b),f=O(b),v=g(b,"DIV",{class:!0});var le=l(v);y=g(le,"DIV",{tabindex:!0,class:!0});var Xe=l(y);I=Z(Xe,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var et=l(I);T=Z(et,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),l(T).forEach(d),et.forEach(d),Xe.forEach(d),Re=O(le),E=g(le,"UL",{tabindex:!0,class:!0});var C=l(E);X=g(C,"LI",{});var tt=l(X);J=g(tt,"A",{href:!0});var nt=l(J);Ie=q(nt,"Data"),nt.forEach(d),tt.forEach(d),Ee=O(C),ee=g(C,"LI",{});var st=l(ee);V=g(st,"A",{href:!0});var rt=l(V);be=q(rt,"Debug"),rt.forEach(d),st.forEach(d),Se=O(C),te=g(C,"LI",{});var it=l(te);$=g(it,"A",{href:!0});var ot=l($);ke=q(ot,"Buy & Sell"),ot.forEach(d),it.forEach(d),Te=O(C),ne=g(C,"LI",{});var ct=l(ne);F=g(ct,"A",{href:!0});var at=l(F);Me=q(at,"Developer"),at.forEach(d),ct.forEach(d),Oe=O(C),B=g(C,"LI",{});var fe=l(B);P=g(fe,"DIV",{});var ht=l(P);U=Z(ht,"svg",{class:!0,xmlns:!0,viewBox:!0});var dt=l(U);se=Z(dt,"path",{d:!0}),l(se).forEach(d),dt.forEach(d),ht.forEach(d),Ce=O(fe),N=g(fe,"DIV",{});var ut=l(N);L=Z(ut,"svg",{class:!0,xmlns:!0,viewBox:!0});var lt=l(L);re=Z(lt,"path",{d:!0}),l(re).forEach(d),lt.forEach(d),ut.forEach(d),fe.forEach(d),C.forEach(d),le.forEach(d),b.forEach(d),this.h()},h(){a(i,"class","sm:hidden"),a(u,"class","hidden sm:block"),a(r,"href",oe("/")),a(s,"class","btn btn-ghost text-xl normal-case not-prose"),a(t,"class","flex-1"),a(T,"stroke-linecap","round"),a(T,"stroke-linejoin","round"),a(T,"stroke-width","2"),a(T,"d","M4 6h16M4 12h16M4 18h16"),a(I,"xmlns","http://www.w3.org/2000/svg"),a(I,"class","w-8 h-8"),a(I,"fill","none"),a(I,"viewBox","0 0 24 24"),a(I,"stroke","currentColor"),a(y,"tabindex","0"),a(y,"class","btn btn-ghost px-2"),a(J,"href",oe("/data")),a(V,"href",oe("/debug")),a($,"href",oe("/buy-sell")),a(F,"href",oe("/blog/developer")),a(se,"d","M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"),a(U,"class","fill-current w-6 h-6"),a(U,"xmlns","http://www.w3.org/2000/svg"),a(U,"viewBox","0 0 24 24"),pe(P,"hidden",n[3]==="dark"),a(re,"d","M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"),a(L,"class","fill-current w-6 h-6"),a(L,"xmlns","http://www.w3.org/2000/svg"),a(L,"viewBox","0 0 24 24"),pe(N,"hidden",n[3]!=="dark"),a(E,"tabindex","0"),a(E,"class","dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"),a(v,"class","dropdown dropdown-end not-prose"),a(e,"class",de=`navbar shadow bg-base-100 gap-2 ${n[0]}`)},m(R,b){ve(R,e,b),o(e,t),o(t,s),o(s,r),o(r,i),o(i,c),o(r,m),o(r,u),o(u,w),o(e,S),D[_].m(e,null),o(e,f),o(e,v),o(v,y),o(y,I),o(I,T),o(v,Re),o(v,E),o(E,X),o(X,J),o(J,Ie),o(E,Ee),o(E,ee),o(ee,V),o(V,be),o(E,Se),o(E,te),o(te,$),o($,ke),o(E,Te),o(E,ne),o(ne,F),o(F,Me),o(E,Oe),o(E,B),o(B,P),o(P,U),o(U,se),o(B,Ce),o(B,N),o(N,L),o(L,re),ie=!0,Ae||(Ge=[_e(P,"click",je.setDark),_e(N,"click",je.setLight)],Ae=!0)},p(R,[b]){let W=_;_=Ke(R),_===W?D[_].p(R,b):(tn(),De(D[W],1,1,()=>{D[W]=null}),nn(),h=D[_],h?h.p(R,b):(h=D[_]=Ze[_](R),h.c()),He(h,1),h.m(e,f)),b&8&&pe(P,"hidden",R[3]==="dark"),b&8&&pe(N,"hidden",R[3]!=="dark"),(!ie||b&1&&de!==(de=`navbar shadow bg-base-100 gap-2 ${R[0]}`))&&a(e,"class",de)},i(R){ie||(He(h),ie=!0)},o(R){De(h),ie=!1},d(R){R&&d(e),D[_].d(),Ae=!1,sn(Ge)}}}function fr(n,e,t){let s,r,i,c;qe(n,In,h=>t(6,r=h)),qe(n,En,h=>t(2,i=h)),qe(n,je,h=>t(3,c=h));let{class:m=""}=e,u;async function w(){if(i)return;const h=await(u==null?void 0:u.connect()),f=new wt(h);Pe.setProvider(f)}function S(){u==null||u.clearCachedProvider(),Pe.disconnect()}async function _(){if(!(u!=null&&u.cachedProvider))return;const h=await u.connectTo(u.cachedProvider),f=new wt(h);Pe.setProvider(f)}return rn(()=>{u=or(),_()}),n.$$set=h=>{"class"in h&&t(0,m=h.class)},n.$$.update=()=>{n.$$.dirty&64&&t(1,s=r&&r.getBalance())},[m,s,i,c,w,S,r]}class mr extends Yt{constructor(e){super(),Xt(this,e,fr,lr,en,{class:0})}}window.Buffer=Sn.Buffer;export{mr as H};
